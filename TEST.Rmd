---
editor_options: 
  markdown: 
    wrap: 72
---

#DATA IMPORT

```{r}
jan_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/012022_tripdata.csv", sep = ';')
feb_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/022022_tripdata.csv", sep = ';')
mar_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/032022_tripdata.csv", sep = ';')
apr_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/042022_tripdata.csv", sep = ';')
may_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/052022_tripdata.csv", sep = ';')
jun_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/062022_tripdata.csv", sep = ';')
jul_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/072022_tripdata.csv", sep = ';')
aug_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/082022_tripdata.csv", sep = ';')
sep_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/092022_tripdata.csv", sep = ';')
oct_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/102022_tripdata.csv", sep = ';')
nov_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/112022_tripdata.csv", sep = ';')
dec_2022_data <- read.csv("D:/GDAPC Case study/01_Bike_share/cleaned_in_excel/csv/122022_tripdata.csv", sep = ';')
```

#BINDING IMPORTED DATA

```{r}
all_2022_data <- rbind(jan_2022_data, feb_2022_data, mar_2022_data,
apr_2022_data, may_2022_data, jun_2022_data, jul_2022_data,
aug_2022_data, sep_2022_data, oct_2022_data, nov_2022_data,
dec_2022_data)
```

#INITIAL DATA CHECK 
```{r}
library(dplyr) 
library(skimr)

glimpse(all_2022_data) 
skim_without_charts(all_2022_data)
head(all_2022_data)
```


#DATA TYPES CHANGE 
```{r}
library(tidyverse)
library(lubridate)

all_2022_data_test <- all_2022_data %\>% 
  mutate(started_at = as_datetime(started_at, format = '%d.%m.%Y %H:%M'),
         ended_at = as_datetime(ended_at, format = '%d.%m.%Y %H:%M'),
         ride_len = difftime(ended_at, started_at, units = 'sec')
         )
```



'''

all_2022_data_test \<- all_data_test %\>% mutate(month =
substr(started_at, 6, 7), started_at_full_hour = substr(started_at_hour,
1, 2) ) ''' #BASIC CALCULATIONS #TOTAL RIDES BY CUSTOMER TYPE

all_2022_data_test_rides \<- all_2022_data_test %\>%
group_by(customer_type, ) %\>% summarise(num_of_rides = n())

#PLOT FOR RIDES BY CUSTOMER TYPE library(ggplot2)

ggplot(all_2022_data_test_rides, mapping = aes(x = customer_type, y =
num_of_rides)) + geom_col()
